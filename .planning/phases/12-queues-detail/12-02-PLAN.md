---
phase: 12-queues-detail
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - components/collapsible/collapsible.go
  - components/collapsible/collapsible.templ
autonomous: true

must_haves:
  truths:
    - "Collapsible component is available for queue expanders"
    - "Multiple sections can be open simultaneously (not accordion)"
  artifacts:
    - path: "components/collapsible/collapsible.templ"
      provides: "templUI collapsible component"
      contains: "Collapsible"
  key_links:
    - from: "components/collapsible"
      to: "templates/pages/admin"
      via: "import in queue templates"
      pattern: "docko/components/collapsible"
---

<objective>
Install templUI collapsible component for expandable queue sections.

Purpose: Provide the UI building block for queue detail expanders that allow multiple sections open.
Output: Installed and compiled collapsible component in components/ directory.
</objective>

<execution_context>
@/home/bjk/.claude/get-shit-done/workflows/execute-plan.md
@/home/bjk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-queues-detail/12-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install templUI collapsible component</name>
  <files>components/collapsible/collapsible.templ, components/collapsible/collapsible.go</files>
  <action>
Run the templUI CLI to add the collapsible component:

```bash
cd /home/bjk/projects/corpus/docko
templui add collapsible
```

This installs the collapsible component which allows multiple sections to be open simultaneously (unlike accordion which only allows one). Per CONTEXT.md Claude's Discretion, we chose collapsible over accordion so users can compare failed jobs across queues.

After installation, run `make generate` to compile the templ files.
  </action>
  <verify>
1. Check components/collapsible/ directory exists with .templ and .go files
2. Run `make generate` and check ./tmp/air-combined.log for errors
3. Verify collapsible_templ.go is generated
  </verify>
  <done>templUI collapsible component installed and compiled successfully</done>
</task>

<task type="auto">
  <name>Task 2: Verify collapsible component API</name>
  <files>components/collapsible/collapsible.templ</files>
  <action>
Read the installed collapsible component to understand its API. Document the key exports:
- Collapsible (container)
- Trigger (clickable header)
- Content (expandable content area)
- Props struct with Open bool for default state

This verification ensures we understand the component API before using it in the queue templates (Plan 04).

No code changes needed - just read and verify the component structure.
  </action>
  <verify>Read components/collapsible/collapsible.templ and confirm it has Collapsible, Trigger, and Content components</verify>
  <done>Collapsible component API verified: Collapsible, Trigger, Content available</done>
</task>

</tasks>

<verification>
1. components/collapsible/ directory exists
2. collapsible.templ and collapsible.go files present
3. `make generate` succeeds without errors
4. Collapsible, Trigger, Content components exported
</verification>

<success_criteria>
- Collapsible component installed via templui add
- Component compiles without errors
- API matches expected pattern (Collapsible > Trigger + Content)
</success_criteria>

<output>
After completion, create `.planning/phases/12-queues-detail/12-02-SUMMARY.md`
</output>
